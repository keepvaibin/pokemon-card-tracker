generator client {
  provider = "prisma-client-js"
  output   = "../../generated/timescale"
}

datasource db {
  provider = "postgresql"
  url      = env("TIMESCALE_URL")
}

model PriceHistory {
  cardId                            String
  time                              DateTime
  tcgplayer_normal_market           Float?
  tcgplayer_holofoil_market         Float?
  tcgplayer_reverse_holofoil_market Float?
  cardmarket_average_sell_price     Float?
  no_tcgplayer_prices               Boolean

  @@id([cardId, time])
  @@index([time(sort: Desc)])
  @@index([cardId, time(sort: Desc)], map: "idx_pricehistory_cardid_time")
  @@index([time(sort: Desc)], map: "idx_pricehistory_time")
  @@map("PriceHistory")
}
